<nav
  class="navbar navbar-expand-lg navbar-dark bg-dark m-0 p-0"
  ng-hide="[(isConnected )]"
>
  <div class="container-fluid m-0 p-0">
    <a [routerLink]="['/home']" class="navbar-brand fs-1 p-1 m-1">ProxyBank</a>
    <button
      aria-controls="navbarNavDropdown"
      aria-expanded="false"
      aria-label="Toggle navigation"
      class="navbar-toggler"
      data-bs-target="#navbarNavDropdown"
      data-bs-toggle="collapse"
      type="button"
    >
      <span class="navbar-toggler-icon"></span>
    </button>
    <div
      class="collapse navbar-collapse fs-5 mt-0 mb-0 pt-0 pb-0"
      id="navbarNavDropdown"
    >

      <!-- Interface CONSEILLER -->
      <ul *ngIf="roleTab[2]" class="navbar-nav m-1 p-1">
        <li class="nav-item m-0 p-0">
          <a
            [ngClass]="titleActive === '/home' ? 'nav-link active' : 'nav-link'"
            [routerLink]="['/home']"
            >Voir mes clients</a
          >
        </li>
        <li class="nav-item m-0 p-0">
          <a
            [ngClass]="
              titleActive === '/clients' ? 'nav-link active' : 'nav-link'
            "
            [routerLink]="['/clients']"
            class="nav-link"
            > Creer un client</a
          >
        </li>
      </ul>

      <!-- Interface GERANT -->
      <ul *ngIf="roleTab[1]" class="navbar-nav m-1 p-1">
        <li class="nav-item">
          <a
            [ngClass]="titleActive === '/home' ? 'nav-link active' : 'nav-link'"
            [routerLink]="['/home']"
            >Home</a
          >
        </li>
        <li class="nav-item">
          <a
            [ngClass]="
              titleActive === '/clients' ? 'nav-link active' : 'nav-link'
            "
            [routerLink]="['/clients']"
            class="nav-link"
            >Audit</a
          >
        </li>
        <li class="nav-item dropdown">
          <a
            aria-expanded="false"
            class="nav-link dropdown-toggle"
            data-bs-toggle="dropdown"
            href="#"
            id="navbarDropdownMenuLink"
            role="button"
          >
          Gestion des conseillers
          </a>
          <ul
            aria-labelledby="navbarDropdownMenuLink"
            class="dropdown-menu dropdown-menu-dark"
          >
            <li>
              <a
                class="dropdown-item dropdown-item-dark"
                [routerLink]="['/conseillers']"
                >Voir mes conseillers</a
              >
            </li>
            <li>
              <a
                class="dropdown-item dropdown-item-dark"
                [routerLink]="['/conseillers/new']"
                >Creer un conseiller</a
              >
            </li>
          </ul>
        </li>

        <li class="nav-item">
          <a
            [ngClass]="titleActive === '/home' ? 'nav-link active' : 'nav-link'"
            [routerLink]="['/gestion-conseillers']"
            >Relation Conseiller/Client</a>
        </li>
      </ul>

      <!-- Interface ADMIN -->
      <ul *ngIf="roleTab[0]" class="navbar-nav m-1 p-1">
        <li class="nav-item">
          <a
            [ngClass]="titleActive === '/home' ? 'nav-link active' : 'nav-link'"
            [routerLink]="['/home']"
            >Home</a
          >
        </li>
        <li class="nav-item dropdown">
          <a
            aria-expanded="false"
            class="nav-link dropdown-toggle"
            data-bs-toggle="dropdown"
            href="#"
            id="navbarDropdownMenuLink"
            role="button"
          >
          Gestions des Utilisateurs
          </a>
          <ul
            aria-labelledby="navbarDropdownMenuLink"
            class="dropdown-menu dropdown-menu-dark"
          >
            <li>
              <a
                class="dropdown-item dropdown-item-dark"
                [routerLink]="['/admin/gestion-utilisateur']"
                >Voir</a
              >
            </li>
            <li>
              <a
                class="dropdown-item dropdown-item-dark"
                [routerLink]="['/gerants/new']"
                >Creer un Gerant</a
              >
            </li>
            <li>
              <a
                class="dropdown-item dropdown-item-dark"
                [routerLink]="['/conseillers/new']"
                >Creer un Conseiller</a
              >
            </li>
          </ul>
        </li>

        <li class="nav-item dropdown">
          <a
            aria-expanded="false"
            class="nav-link dropdown-toggle"
            data-bs-toggle="dropdown"
            href="#"
            id="navbarDropdownMenuLink"
            role="button"
          >
          Gestions des Agences
          </a>
          <ul
            aria-labelledby="navbarDropdownMenuLink"
            class="dropdown-menu dropdown-menu-dark"
          >
            <li>
              <a
                class="dropdown-item dropdown-item-dark"
                [routerLink]= "['/gestion-agences']"
                >Voir</a
              >
            </li>
            <li>
              <a
                class="dropdown-item dropdown-item-dark"
                [routerLink]="['/agences/new']"
                >Creer</a
              >
            </li>
          </ul>
        </li>


        <li class="nav-item dropdown">
          <a
            aria-expanded="false"
            class="nav-link dropdown-toggle"
            data-bs-toggle="dropdown"
            href="#"
            id="navbarDropdownMenuLink"
            role="button"
          >
          Gestions des Gerants
          </a>
          <ul
            aria-labelledby="navbarDropdownMenuLink"
            class="dropdown-menu dropdown-menu-dark"
          >
            <li>
              <a
                class="dropdown-item dropdown-item-dark"
                [routerLink]="['/gestion-gerants']"
                >Voir</a
              >
            </li>
            <li>
              <a
                class="dropdown-item dropdown-item-dark"
                [routerLink]="['/gerants/new']"
                >Creer</a
              >
            </li>
          </ul>
        </li>



        <li class="nav-item dropdown">
          <a
            aria-expanded="false"
            class="nav-link dropdown-toggle"
            data-bs-toggle="dropdown"
            href="#"
            id="navbarDropdownMenuLink"
            role="button"
          >
          Gestions des Conseillers
          </a>
          <ul
            aria-labelledby="navbarDropdownMenuLink"
            class="dropdown-menu dropdown-menu-dark"
          >
            <li>
              <a
                class="dropdown-item dropdown-item-dark"
                [routerLink]="['/admin/gestion-conseillers']"
                >Voir</a
              >
            </li>
            <li>
              <a
                class="dropdown-item dropdown-item-dark"
                [routerLink]="['/conseillers/new']"
                >Creer</a
              >
            </li>
          </ul>
        </li>

        <li class="nav-item dropdown">
          <a
            aria-expanded="false"
            class="nav-link dropdown-toggle"
            data-bs-toggle="dropdown"
            href="#"
            id="navbarDropdownMenuLink"
            role="button"
          >
          Gestions des Clients
          </a>
          <ul
            aria-labelledby="navbarDropdownMenuLink"
            class="dropdown-menu dropdown-menu-dark"
          >
            <li>
              <a
                class="dropdown-item dropdown-item-dark"
                [routerLink]="['/conseiller']"
                >Voir</a
              >
            </li>
            <li>
              <a
                class="dropdown-item dropdown-item-dark"
                [routerLink]="['/clients']"
                >Creer</a
              >
            </li>
          </ul>
        </li>


      </ul>
    </div>


    <ul class="list-group list-group-flush mt-0 mb-0 pt-0 pb-0">
      <li class="list-group-item list-group-item-dark pt-0 pb-0">
        <a (click)="logout()" [href]="['/login']"
          ><i class="bi bi-box-arrow-right"></i> Déconnexion</a
        >
      </li>
      <li class="list-group-item list-group-item-dark pt-0 pb-0" *ngIf="roleTab[1]">
        <i class="bi bi-person" ></i> {{gerant.nom}}</li>
        <li class="list-group-item list-group-item-dark pt-0 pb-0" *ngIf="roleTab[2]">
          <i class="bi bi-person" ></i> {{conseiller.nom}}</li>
      <li class="list-group-item list-group-item-dark pt-0 pb-0">Rôle : {{utilisateur.role}}</li>
    </ul>


  </div>
</nav>
